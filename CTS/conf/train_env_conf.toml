[env]
# Number of parallel environments (1-4096)
num_envs = 4096

# Number of previleged observations
num_privileged_obs = 285 # 259 + 2 for com_pos + 12 for torques + 12 for dof_acc

# Dimension of privileged observations
privileged_dim = 53 # 27 + 2 for com_pos + 12 for torques + 12 for dof_acc

# Whether to return privileged observation data
privileged_obs = true

# Episode length (seconds)
episode_length_s = 20

# Length of observation history
history_length = 6

[terrain]
# Enable terrain curriculum learning
curriculum = true

# Initial maximum terrain difficulty level (0-9)
max_init_terrain_level = 0

# Terrain type proportions [ripples, slope, stairs_up, stairs_down, obstacles, flat]
terrain_proportions = [0.2, 0.1, 0.3, 0.2, 0.2, 0.0]

[domain_rand]
# Master switch to enable simulated physical property randomization (boolean)
# - True: Enables randomization of elasticity coefficients, joint positions, 
#         friction coefficients, base commands, link commands, applied forces,
#         control gains, stiffness, damping, motor torques, action delays, 
#         observation delays, etc., based on configurations below.
# - False: Disables all randomization; configurations will use disabled values.
enable_domain_rand = true

# Enable randomized restitution coefficient by default. Initial range: [0.0, 1.0]. 
# To disable randomization, set range to [0, 0]
restitution_range = [0.0, 1.0]

# Enable randomized center-of-mass position by default. Initial offset range: [-0.05, 0.05] meters
# To disable randomization, set range to [0, 0]
com_pos_range = [-0.075, 0.075]
com_pos_range_yz = [-0.05, 0.05]

# Enable randomized friction coefficient by default. Initial range: [0.05, 2.75]
# To disable randomization, set range to [0, 0]
friction_range = [0.05, 2.75]

# Enable randomized payload mass by default. Initial range: [0.0, 3.0] kg (uniform sampling)
# To disable randomization, set range to [0, 0]
added_mass_range = [-1.0, 3.0]

# Enable randomized link mass by default. Initial additional mass range: [0.8, 1.2] kg (added to original mass)
# To disable randomization, set range to [1, 1]
link_mass_range = [0.8, 1.2]

# Pushing interval (seconds)
push_robots = true
push_interval_s = 15

# Randomized external disturbance force parameters
disturbance = true
max_disturbance_force = 30.0
disturbance_interval_s = 8

# Enable randomized stiffness multiplier (core PID parameter) by default. Initial range: [0.8, 1.2]
# To disable randomization, set range to [1, 1]
stiffness_multiplier_range = [0.8, 1.2]

# Enable randomized damping multiplier (core PID parameter) by default. Initial range: [0.8, 1.2]
# To disable randomization, set range to [1, 1]
damping_multiplier_range = [0.8, 1.2]

# Enable randomized motor strength (control parameter) by default. Initial range: [0.8, 1.2]
# To disable randomization, set range to [1, 1]
motor_strength_range = [0.8, 1.2]

# Randomize action latency (0.00-0.02s)
randomize_action_latency = true

# Randomized action execution interval (seconds)
# - Default [0.02, 0.02]: Execute random action at EVERY simulation step
# - Adjustable range: Set wider intervals (e.g., [0.1, 0.5]) for multi-step execution
# - Implementation: Converts time to steps via `int(time_range / dt)`
#   (dt=0.02 means 50Hz simulation frequency)
resample_commands_range = [0.02, 0.02]

[commands]
# Command update interval
resampling_time = 10

# Enable command curriculum learning
curriculum = true

# Max linear velocity X (non-flat terrain)(m/s)
max_lin_vel_x_curriculum = 1.55

# Max linear velocity Y (non-flat terrain)(m/s)
max_lin_vel_y_curriculum = 1.0

# Max angular velocity yaw (non-flat terrain)（rad/s）
max_ang_vel_yaw_curriculum = 2.0

# Max flat terrain linear X velocity (m/s)
max_flat_lin_vel_x_curriculum = 1.55

# Max flat terrain linear Y velocity (m/s)
max_flat_lin_vel_y_curriculum = 1.0

# Max flat terrain angular velocity (rad/s)
max_flat_ang_vel_yaw_curriculum = 2.0

[commands.ranges]
# Linear velocity X range (non-flat, m/s)
lin_vel_x = [-1.0, 1.0]

# Linear velocity Y range (non-flat, m/s)
lin_vel_y = [-0.2, 0.2]

# Angular velocity yaw range (non-flat, rad/s)
# 非平面地形上，绕z轴的角速度范围，单位为弧度/秒（rad/s）
ang_vel_yaw = [-0.5, 0.5]

# Heading range (non-flat, rad)
heading = [-3.14, 3.14]

# Flat terrain linear X velocity range (m/s)
flat_lin_vel_x = [-1.0, 1.0]

# Flat terrain linear Y velocity range (m/s)
flat_lin_vel_y = [-0.2, 0.2]

# Flat terrain angular velocity range (rad/s)
flat_ang_vel_yaw = [-0.5, 0.5]

# Flat terrain heading range (rad)
flat_heading = [-3.14, 3.14]

[normalization]
# Clip actions to this range
clip_actions = 15.0
clip_actions_tuple = [-10.0, 15.0]

[normalization.obs_scales]
# Base linear velocity scale
lin_vel = 2.0

[noise]
# Enable observation noise
add_noise = true

# Global noise multiplier
noise_level = 1.0

[noise.noise_scales]
# Joint position noise std (rad)
dof_pos = 0.01

# Joint velocity noise std
dof_vel = 1.5

# Linear velocity noise std
lin_vel = 0.1

# Angular velocity noise std
ang_vel = 0.2

# Gravity direction noise std
gravity = 0.05

# Terrain height noise std
height_measurements = 0.05

[rewards]
# Velocity tracking precision
tracking_sigma = 0.25

# Target base height (meters)
base_height_target = 0.32

# Degrees of freedom for default joint position limit penalty
dof_error_names = ["FL_hip_joint", "FR_hip_joint", "RL_hip_joint", "RR_hip_joint"]

# Clip negative rewards to zero
only_positive_rewards = true

# Enable reward curriculum
reward_curriculum = false

# Curriculum-affected reward terms
reward_curriculum_term = []

# Curriculum schedule [start_step, end_step, start_val, end_val]
reward_curriculum_schedule = [0, 1000, 1, 0]

[rewards.scales]
# Failure penalty
a = -10.0

# Linear velocity tracking
tracking_lin_vel = 1.0

# Angular velocity tracking
tracking_ang_vel = 0.5

# Z-axis velocity penalty
lin_vel_z = -2.0

# XY angular velocity penalty
ang_vel_xy = -0.05

# Joint acceleration penalty
dof_acc = -2.5e-7

# Joint power penalty
powers = -2e-5

# Torque penalty
torques = -0.0001

# Base height penalty
base_height = -1.0

# Action frequency penalty
action_rate = -0.01

# Action smoothness penalty
action_smoothness = -0.01

# Collision penalty
collision = -1.0

# Joint position limit penalty
dof_pos_limits = -2.0

# Standing penalty
# 静止惩罚
stand_still = -2.0

# Foot regulation penalty
feet_regulation = -0.02

# Symmetric contact reward
symmetric_contact = 0.05

# Dof error penalty (for named dofs)
dof_error_named = -1.0

# Foot air time reward
feet_air_time = 0.0

# Joint velocity penalty
dof_vel = -0.0

# Orientation penalty
orientation = -0.0

# ----------- baseline 中未启用的奖励项 -----------

# Termination reward
termination = -0.0

# Joint velocity limit penalty
# dof_vel_limits = -0.0

# Joint torque limit penalty
# torque_limits = -0.0

# Foot contact forces penalty
# feet_contact_forces = -0.0
